---
import BlogLayout from "../../layouts/BlogLayout.astro";
import BlogHero from "../../blogComponents/BlogHero.astro";
import BlogGallery from "../../blogComponents/BlogGallery.jsx";

import { getCollection } from "astro:content";
import type { CollectionEntry } from "astro:content";

const allArticles: CollectionEntry<"blog">[] = await getCollection("blog");

const allBlogArticles = allArticles.sort((a, b) => {
  const dateA = new Date(a.data.pubDate).getTime();
  const dateB = new Date(b.data.pubDate).getTime();
  return dateB - dateA;
});
---

<BlogLayout
  title="Blog Alberto Ramos - Web Developer"
  description="Welcome to the blog of Alberto Ramos: a dynamic web developer driven by a passion for learning and a collaborative spirit. Web developer adept at crafting visually stunning and highly functional web applications."
>
  <BlogHero />
  <BlogGallery allBlogArticles={allBlogArticles} client:load/>
</BlogLayout>
