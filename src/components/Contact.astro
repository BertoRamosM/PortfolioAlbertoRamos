---
import { getLangFromUrl, useTranslations } from "../src/i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<section class="dark:bg-gray-900">
  <div class="py-8 lg:py-16 px-4 mx-auto max-w-screen-md">
    <form
      name="contact"
      method="POST"
      data-netlify="true"
      class="space-y-8"
      onsubmit="return submitForm(event)"
    >
      <input type="hidden" name="form-name" value="contact" />
      <div>
        <label
          for="email"
          class="block mb-2 text-sm font-medium text-purple-100 dark:text-gray-300"
        >
          {t("contact.1")}</label
        >
        <input
          name="email"
          type="email"
          id="email"
          class="shadow-sm bg-gray-900 border border-purple-200 text-white text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500 dark:shadow-sm-light"
          placeholder={t("contact.email")}
          required
        />
      </div>
      <div>
        <label
          for="subject"
          class="block mb-2 text-sm font-medium text-purple-100 dark:text-purple-100"
          >{t("contact.2")}</label
        >
        <input
          name="subject"
          type="text"
          id="subject"
          class="block p-3 w-full text-sm text-white bg-gray-900 rounded-lg border border-purple-200 shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-yellow-100 dark:focus:ring-primary-500 dark:focus:border-primary-500 dark:shadow-sm-light"
          placeholder={t("contact.3")}
          required
        />
      </div>
      <div class="sm:col-span-2">
        <label
          for="message"
          class="block mb-2 text-sm font-medium text-purple-100 dark:text-yellow-100"
          >{t("contact.4")}</label
        >
        <textarea
          name="message"
          id="message"
          rows="6"
          class="block p-2.5 w-full text-sm text-white bg-gray-900 rounded-lg shadow-sm border border-purple-200 focus:ring-primary-500 focus:border-primary-500 dark:bg-black-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-black dark:focus:ring-primary-500 dark:focus:border-primary-500"
          placeholder={t("contact.5")}></textarea>
      </div>
      <button
        type="submit"
        class="flex items-center align-center gap-3 py-3 px-5 text-sm font-medium text-center text-black rounded-lg bg-purple-200 sm:w-fit hover:bg-opacity-70 focus:ring-4 focus:outline-none hover:scale-105 focus:ring-primary-300 dark:bg-primary-600 dark:hover:opacity-70 dark:focus:ring-primary-800 transition duration-150"
        >{t("contact.6")}
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="icon icon-tabler icons-tabler-outline icon-tabler-send"
          ><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path
            d="M10 14l11 -11"></path><path
            d="M21 3l-6.5 18a.55 .55 0 0 1 -1 0l-3.5 -7l-7 -3.5a.55 .55 0 0 1 0 -1l18 -6.5"
          ></path></svg
        ></button
      >
    </form>
  </div>
</section>

<script>
  function submitForm(event: Event) {
    event.preventDefault();
    return true;
  }
</script>
