---
import { getLangFromUrl, useTranslations } from "../src/i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const RECOMENDATIONS = [
  {
    picture: "/images/Chevalier.jpg",
    name: "Chris Chevalier",
    punch: t("recom.1"),
    review: t("recom.2"),
    title: "Open Class Rooms Tutor",
    email: "chevalier@chris-freelance.com",
  },
  /*  {
    picture: "/images/Chevalier.jpg",
    name: "Chris Chevalier",
    punch: `“Alberto est un étudiant dont les qualités personnelles et professionnelles méritent d'être soulignées.`,
    review: `En résumé, est un candidat très intéressant qui apportera sans aucun doute une valeur ajoutée significative à votre entreprise ou à votre projet.”`,
    title: "Open Class Rooms Tutor",
    email: "chevalier@chris-freelance.com",
  }, 
   {
    picture: "/images/Chevalier.jpg",
    name: "Chris Chevalier",
    punch: `“Alberto est un étudiant dont les qualités personnelles et professionnelles méritent d'être soulignées.`,
    review: `En résumé, est un candidat très intéressant qui apportera sans aucun doute une valeur ajoutée significative à votre entreprise ou à votre projet.”`,
    title: "Open Class Rooms Tutor",
    email: "chevalier@chris-freelance.com",
  }, 
   {
    picture: "/images/Chevalier.jpg",
    name: "Chris Chevalier",
    punch: `“Alberto est un étudiant dont les qualités personnelles et professionnelles méritent d'être soulignées.`,
    review: `En résumé, est un candidat très intéressant qui apportera sans aucun doute une valeur ajoutée significative à votre entreprise ou à votre projet.”`,
    title: "Open Class Rooms Tutor",
    email: "chevalier@chris-freelance.com",
  }, */
];
---

<!-- md:grid md:grid-cols-2 -->
<div class="py-8 lg:py-12 px-4 sm:mx-auto flex gap-8 flex-col relative">
  <svg
    class="absolute top-5 sm:top-10 left-5"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    version="1.1"
    id="Capa_1"
    height={84}
    width={84}
    viewBox="0 0 57 57"
    xml:space="preserve"
  >
    <g>
      <circle style="fill:#6b21a8;" cx="18.5" cy="31.5" r="5.5"></circle>
      <path
        style="fill:#6b21a8;"
        d="M18.5,38c-3.584,0-6.5-2.916-6.5-6.5s2.916-6.5,6.5-6.5s6.5,2.916,6.5,6.5S22.084,38,18.5,38z    M18.5,27c-2.481,0-4.5,2.019-4.5,4.5s2.019,4.5,4.5,4.5s4.5-2.019,4.5-4.5S20.981,27,18.5,27z"
      ></path>
    </g>
    <g>
      <circle style="fill:#6b21a8;" cx="35.5" cy="31.5" r="5.5"></circle>
      <path
        style="fill:#6b21a8;"
        d="M35.5,38c-3.584,0-6.5-2.916-6.5-6.5s2.916-6.5,6.5-6.5s6.5,2.916,6.5,6.5S39.084,38,35.5,38z    M35.5,27c-2.481,0-4.5,2.019-4.5,4.5s2.019,4.5,4.5,4.5s4.5-2.019,4.5-4.5S37.981,27,35.5,27z"
      ></path>
    </g>
    <path
     style="fill:#6b21a8;"
      d="M13,32c-0.553,0-1-0.447-1-1c0-7.72,6.28-14,14-14c0.553,0,1,0.447,1,1s-0.447,1-1,1  c-6.617,0-12,5.383-12,12C14,31.553,13.553,32,13,32z"
    ></path>
    <path
      style="fill:#6b21a8;"
      d="M30,32c-0.553,0-1-0.447-1-1c0-7.72,6.28-14,14-14c0.553,0,1,0.447,1,1s-0.447,1-1,1  c-6.617,0-12,5.383-12,12C31,31.553,30.553,32,30,32z"
    ></path>
  </svg>

  {
    RECOMENDATIONS.map((recomendation) => {
      return (
        <figure class="flex flex-col items-center p-8 bg-transparent border-slate-400 rounded-t-lg md:rounded-t-none  border">
          <blockquote class="max-w-2xl mx-auto mb-4 text-gray-800 lg:mb-8 dark:text-gray-400">
            <h3 class="text-lg font-semibold text-gray-800 dark:text-gray-300 pt-6">
              {recomendation.punch}
            </h3>
            <p class="my-4">{recomendation.review}</p>
          </blockquote>
          <figcaption class="flex items-center justify-center">
            <img
              class="rounded-full w-9 h-9"
              src={recomendation.picture}
              alt="profile picture"
            />
            <div class="space-y-0.5 font-medium text-left rtl:text-right ms-3 text-red-500 dark:text-yellow-200">
              <div>{recomendation.name}</div>
              <div class="text-sm text-purple-800 dark:text-purple-400">{recomendation.title}</div>
              <div class="text-sm text-gray-800 dark:text-gray-400">{recomendation.email}</div>
            </div>
          </figcaption>
        </figure>
      );
    })
  }
</div>
